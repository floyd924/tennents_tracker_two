{"ast":null,"code":"import _classCallCheck from \"/Users/iainfloyd/codeclan/work_files/xmas/tennents2/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/iainfloyd/codeclan/work_files/xmas/tennents2/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/iainfloyd/codeclan/work_files/xmas/tennents2/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/iainfloyd/codeclan/work_files/xmas/tennents2/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/iainfloyd/codeclan/work_files/xmas/tennents2/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/iainfloyd/codeclan/work_files/xmas/tennents2/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/iainfloyd/codeclan/work_files/xmas/tennents2/src/MapPage.js\";\nimport React, { Component, Fragment } from 'react';\nimport { Map, TileLayer, Marker, Popup } from 'react-leaflet';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\n\nvar MapPage =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(MapPage, _Component);\n\n  function MapPage() {\n    var _this;\n\n    _classCallCheck(this, MapPage);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MapPage).call(this));\n    _this.state = {\n      rating: 0,\n      price: 100\n    };\n    _this.handleRatingChange = _this.handleRatingChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handlePriceChange = _this.handlePriceChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(MapPage, [{\n    key: \"handleRatingChange\",\n    value: function handleRatingChange(event) {\n      var input = event.target.value;\n      this.setState({\n        rating: input\n      });\n      console.log(\"new min rating is:\", this.state.rating);\n    }\n  }, {\n    key: \"handlePriceChange\",\n    value: function handlePriceChange(event) {\n      var input = event.target.value;\n      this.setState({\n        price: input\n      });\n      console.log(\"new max price is:\", this.state.rating);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var startPosition = [55.945691, -3.203956];\n      var startZoon = 12;\n      var image = new L.Icon({\n        iconUrl: require('./images/marker-icon.png'),\n        shadowUrl: require('./images/marker-shadow.png'),\n        iconSize: [20, 40],\n        // size of the icon\n        shadowSize: [1, 1],\n        // size of the shadow\n        iconAnchor: [10, 40],\n        // point of the icon which will correspond to marker's location\n        shadowAnchor: [4, 62],\n        // the same for the shadow\n        popupAnchor: [0, -50] // point from which the popup should open relative to the iconAnchor\n\n      });\n      var arrayOfAllPubsAndReviews = [// {name: , latlng: [,], price: , overall: , text: },\n      {\n        name: \"The Chanter\",\n        latlng: [55.945691, -3.203956],\n        price: 3.85,\n        user: \"Iain\",\n        overall: 8,\n        text: \"aye \\n it \\r\\n was \\n alright\",\n        imageurl: \"https://scontent-lhr3-1.xx.fbcdn.net/v/t1.15752-9/s2048x2048/48421922_299090630718978_2522910274101444608_n.jpg?_nc_cat=104&_nc_ht=scontent-lhr3-1.xx&oh=8ba11ad1a4941613ab18f8ae4a0d40b8&oe=5CD8A21A\"\n      }, {\n        name: \"Footlights\",\n        latlng: [55.946031, -3.203644],\n        price: 4.30,\n        user: \"Hugh\",\n        overall: 7.5,\n        text: \"Venue: Footlights, Edinburgh. Price: a not great £4.30. Head: Dara O'Briain here. Carbonation is pretty good, it's ice-cold, tastes like it should and it's in a classic glass. \\n Tides looking okay so far too. \\n Overall score: 7.5. Losing a point for the head and a point and a half for the price.\",\n        imageurl: \"https://scontent-lhr3-1.xx.fbcdn.net/v/t1.0-9/48396664_10156098120094639_4809002906269253632_n.jpg?_nc_cat=108&_nc_ht=scontent-lhr3-1.xx&oh=66030eafe5fdfeba5ecab4be49da0ad2&oe=5C9220CD\"\n      }, {\n        name: \"Tiles\",\n        latlng: [55.953618, -3.192074],\n        price: 4,\n        user: \"Chris R\",\n        overall: 5.5,\n        text: \"Tiles, St. Andrew Square. Head: 10/10, perfection. Carbonation: 7/10, upper middle of the road. Vessel: 10/10, classic conical glass. Price: 4/10 (£4.00) Taste: 6/10, almost lukewarm. Overall: 6.5/10. Balls to averages...... Non existent tide lines. On second thought, downgrade to a 5.5 please.\",\n        imageurl: \"https://scontent-lhr3-1.xx.fbcdn.net/v/t1.0-9/48950366_10156845868071704_5829290301742645248_n.jpg?_nc_cat=104&_nc_ht=scontent-lhr3-1.xx&oh=1ce950b7728ed552ef195b01eaafb46e&oe=5C913C70\"\n      }, {\n        name: \"Dagda Bar\",\n        latlng: [55.942143, -3.183925],\n        price: 3.70,\n        user: \"Michael C\",\n        overall: 9,\n        text: \"Venue: The Dagda. Price: 3.70. Head: Almost perfect, slight dip in the top. Carbonation excellent, temperature excellent, glass is your typical classic, and as flavoursome as you'd expect for someone who had two tabs on the way from his house. Score: 9. Its been a house classic for the ten years I've drank here and shows no sign of abating.\",\n        imageurl: \"https://scontent-lhr3-1.xx.fbcdn.net/v/t1.0-9/48372275_10213230190056813_8284141510459392_n.jpg?_nc_cat=103&_nc_ht=scontent-lhr3-1.xx&oh=8453e512120e0fabbabc919a8b1d0321&oe=5CD4EB10\"\n      }];\n      var LeafletMarkers = arrayOfAllPubsAndReviews.map(function (pub) {\n        return React.createElement(Marker, {\n          icon: image,\n          position: pub.latlng,\n          key: \"marker_\".concat(pub.name),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51\n          },\n          __self: this\n        }, React.createElement(Popup, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        }, pub.name, React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        }), \"\\xA3\", pub.price.toFixed(2), \" a pint\", React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        }), \"Reviewed by: \", pub.user, React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }), \"Overall: \", pub.overall.toFixed(1), React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }), \"\\\"\", pub.text, \"\\\"\", React.createElement(\"br\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }), React.createElement(\"img\", {\n          src: pub.imageurl,\n          className: \"review-image\",\n          alt: \"map pf edinburgh\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }))));\n      });\n      console.log(\"leaflet markers is:\", LeafletMarkers);\n      return React.createElement(Fragment, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"filters\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"Filter by:\"), React.createElement(\"div\", {\n        className: \"dropdown\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"Minimum rating:\"), React.createElement(\"select\", {\n        name: \"rating\",\n        onChange: this.handleRatingChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        key: \"0\",\n        value: \"0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, \"0\"), React.createElement(\"option\", {\n        key: \"1\",\n        value: \"1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, \"1\"), React.createElement(\"option\", {\n        value: \"2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"2\"), React.createElement(\"option\", {\n        value: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      }, \"3\"), React.createElement(\"option\", {\n        value: \"4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        },\n        __self: this\n      }, \"4\"), React.createElement(\"option\", {\n        value: \"5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, \"5\"), React.createElement(\"option\", {\n        value: \"6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, \"6\"), React.createElement(\"option\", {\n        value: \"7\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"7\"), React.createElement(\"option\", {\n        value: \"8\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, \"8\"), React.createElement(\"option\", {\n        value: \"9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, \"9\"), React.createElement(\"option\", {\n        value: \"10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, \"10\"))), React.createElement(\"div\", {\n        className: \"dropdown\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, \"Maximum price:\"), React.createElement(\"select\", {\n        name: \"price\",\n        onChange: this.handlePriceChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"option\", {\n        key: \"0\",\n        value: \"0\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, \"0\"), React.createElement(\"option\", {\n        value: \"2.50\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \"\\xA32.50\"), React.createElement(\"option\", {\n        value: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, \"\\xA33\"), React.createElement(\"option\", {\n        value: \"3.25\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }, \"\\xA33.25\"), React.createElement(\"option\", {\n        value: \"3.50\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, \"\\xA33.50\"), React.createElement(\"option\", {\n        value: \"3.75\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, \"\\xA33.75\"), React.createElement(\"option\", {\n        value: \"4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \"\\xA34\"), React.createElement(\"option\", {\n        value: \"4.25\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, \"\\xA34.25\"), React.createElement(\"option\", {\n        value: \"4.5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, \"\\xA34.50\"), React.createElement(\"option\", {\n        value: \"4.75\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, \"\\xA34.75\"), React.createElement(\"option\", {\n        value: \"5\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, \"\\xA35\"), React.createElement(\"option\", {\n        value: \"6\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, \"\\xA36\")))), React.createElement(\"div\", {\n        className: \"another-map-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(Map, {\n        className: \"this-is-map\",\n        center: startPosition,\n        zoom: startZoon,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, React.createElement(TileLayer, {\n        attribution: \"&copy <a href=\\\"http://osm.org/copyright\\\">OpenStreetMap</a> contributors\",\n        url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }), React.createElement(\"style\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, \"@import url('http:/unpkg.com/leaflet@1.3.4/dist/leaflet.css')\"), React.createElement(\"div\", {\n        className: \"markers-div\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, LeafletMarkers))));\n    }\n  }]);\n\n  return MapPage;\n}(Component);\n\nexport default MapPage;","map":{"version":3,"sources":["/Users/iainfloyd/codeclan/work_files/xmas/tennents2/src/MapPage.js"],"names":["React","Component","Fragment","Map","TileLayer","Marker","Popup","L","MapPage","state","rating","price","handleRatingChange","bind","handlePriceChange","event","input","target","value","setState","console","log","startPosition","startZoon","image","Icon","iconUrl","require","shadowUrl","iconSize","shadowSize","iconAnchor","shadowAnchor","popupAnchor","arrayOfAllPubsAndReviews","name","latlng","user","overall","text","imageurl","LeafletMarkers","map","pub","toFixed"],"mappings":"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","sourcesContent":["import React, {Component, Fragment} from 'react';\nimport { Map, TileLayer, Marker, Popup } from 'react-leaflet';\nimport L from 'leaflet';\nimport 'leaflet/dist/leaflet.css';\n\nclass MapPage extends Component {\n  constructor(){\n    super();\n    this.state = {\n      rating: 0,\n      price: 100\n    }\n    this.handleRatingChange = this.handleRatingChange.bind(this);\n    this.handlePriceChange = this.handlePriceChange.bind(this);\n  }\n\n  handleRatingChange(event){\n    const input = event.target.value\n    this.setState({rating: input})\n    console.log(\"new min rating is:\", this.state.rating);\n  }\n\n  handlePriceChange(event){\n    const input = event.target.value\n    this.setState({price: input})\n    console.log(\"new max price is:\", this.state.rating);\n  }\n\n\n\n  render(){\n    const startPosition = [55.945691, -3.203956];\n    const startZoon = 12;\n    const image = new L.Icon({\n      iconUrl: require('./images/marker-icon.png'),\n      shadowUrl: require('./images/marker-shadow.png'),\n      iconSize:     [20, 40], // size of the icon\n      shadowSize:   [1, 1], // size of the shadow\n      iconAnchor:   [10, 40], // point of the icon which will correspond to marker's location\n      shadowAnchor: [4, 62],  // the same for the shadow\n      popupAnchor:  [0, -50]// point from which the popup should open relative to the iconAnchor\n    });\n    const arrayOfAllPubsAndReviews = [\n      // {name: , latlng: [,], price: , overall: , text: },\n      {name: \"The Chanter\", latlng: [55.945691, -3.203956], price: 3.85, user: \"Iain\", overall: 8, text: \"aye \\n it \\r\\n was \\n alright\", imageurl: \"https://scontent-lhr3-1.xx.fbcdn.net/v/t1.15752-9/s2048x2048/48421922_299090630718978_2522910274101444608_n.jpg?_nc_cat=104&_nc_ht=scontent-lhr3-1.xx&oh=8ba11ad1a4941613ab18f8ae4a0d40b8&oe=5CD8A21A\"},\n      {name: \"Footlights\", latlng: [55.946031, -3.203644], price: 4.30, user: \"Hugh\", overall: 7.5, text: \"Venue: Footlights, Edinburgh. Price: a not great £4.30. Head: Dara O'Briain here. Carbonation is pretty good, it's ice-cold, tastes like it should and it's in a classic glass. \\n Tides looking okay so far too. \\n Overall score: 7.5. Losing a point for the head and a point and a half for the price.\", imageurl: \"https://scontent-lhr3-1.xx.fbcdn.net/v/t1.0-9/48396664_10156098120094639_4809002906269253632_n.jpg?_nc_cat=108&_nc_ht=scontent-lhr3-1.xx&oh=66030eafe5fdfeba5ecab4be49da0ad2&oe=5C9220CD\"},\n      {name: \"Tiles\", latlng: [55.953618, -3.192074], price: 4, user: \"Chris R\", overall: 5.5, text: \"Tiles, St. Andrew Square. Head: 10/10, perfection. Carbonation: 7/10, upper middle of the road. Vessel: 10/10, classic conical glass. Price: 4/10 (£4.00) Taste: 6/10, almost lukewarm. Overall: 6.5/10. Balls to averages...... Non existent tide lines. On second thought, downgrade to a 5.5 please.\", imageurl: \"https://scontent-lhr3-1.xx.fbcdn.net/v/t1.0-9/48950366_10156845868071704_5829290301742645248_n.jpg?_nc_cat=104&_nc_ht=scontent-lhr3-1.xx&oh=1ce950b7728ed552ef195b01eaafb46e&oe=5C913C70\"},\n      {name: \"Dagda Bar\", latlng: [55.942143, -3.183925], price: 3.70, user: \"Michael C\", overall: 9, text: \"Venue: The Dagda. Price: 3.70. Head: Almost perfect, slight dip in the top. Carbonation excellent, temperature excellent, glass is your typical classic, and as flavoursome as you'd expect for someone who had two tabs on the way from his house. Score: 9. Its been a house classic for the ten years I've drank here and shows no sign of abating.\", imageurl: \"https://scontent-lhr3-1.xx.fbcdn.net/v/t1.0-9/48372275_10213230190056813_8284141510459392_n.jpg?_nc_cat=103&_nc_ht=scontent-lhr3-1.xx&oh=8453e512120e0fabbabc919a8b1d0321&oe=5CD4EB10\"}\n    ];\n    const LeafletMarkers = arrayOfAllPubsAndReviews.map(pub => (\n      <Marker icon={image} position={pub.latlng} key={`marker_${pub.name}`}>\n        <Popup>\n          <span>\n            {pub.name}\n            <br />\n            £{pub.price.toFixed(2)} a pint\n            <br />\n            Reviewed by: {pub.user}\n            <br />\n            Overall: {pub.overall.toFixed(1)}\n            <br />\n            \"{pub.text}\"\n            <br />\n            <img src={pub.imageurl} className=\"review-image\" alt=\"map pf edinburgh\"/>\n          </span>\n        </Popup>\n      </Marker>\n    ));\n    console.log(\"leaflet markers is:\", LeafletMarkers);\n\n    return(\n      <Fragment>\n\n        <div className=\"filters\">\n          <h3>Filter by:</h3>\n\n\n          <div className=\"dropdown\">\n            <label>Minimum rating:</label>\n            <select name=\"rating\" onChange={this.handleRatingChange}>\n              <option key=\"0\" value=\"0\">0</option>\n              <option key=\"1\" value=\"1\">1</option>\n              <option value=\"2\">2</option>\n              <option value=\"3\">3</option>\n              <option value=\"4\">4</option>\n              <option value=\"5\">5</option>\n              <option value=\"6\">6</option>\n              <option value=\"7\">7</option>\n              <option value=\"8\">8</option>\n              <option value=\"9\">9</option>\n              <option value=\"10\">10</option>\n            </select>\n          </div>\n\n          <div className=\"dropdown\">\n            <label>Maximum price:</label>\n            <select name=\"price\" onChange={this.handlePriceChange}>\n              <option key=\"0\" value=\"0\">0</option>\n              <option value=\"2.50\">£2.50</option>\n              <option value=\"3\">£3</option>\n              <option value=\"3.25\">£3.25</option>\n              <option value=\"3.50\">£3.50</option>\n              <option value=\"3.75\">£3.75</option>\n              <option value=\"4\">£4</option>\n              <option value=\"4.25\">£4.25</option>\n              <option value=\"4.5\">£4.50</option>\n              <option value=\"4.75\">£4.75</option>\n              <option value=\"5\">£5</option>\n              <option value=\"6\">£6</option>\n            </select>\n          </div>\n\n        </div>\n\n\n        <div className=\"another-map-container\">\n          <Map className=\"this-is-map\" center={startPosition} zoom={startZoon}>\n            <TileLayer\n              attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n              url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n            />\n            <style>@import url('http:/unpkg.com/leaflet@1.3.4/dist/leaflet.css')</style>\n\n            <div className=\"markers-div\">\n              {LeafletMarkers}\n            </div>\n\n          </Map>\n        </div>\n      </Fragment>\n    )\n\n\n\n\n\n\n\n\n  }\n\n\n\n\n}\n\nexport default MapPage;\n"]},"metadata":{},"sourceType":"module"}